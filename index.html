<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo | Wood NFC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./config.js"></script>
</head>
<body class="bg-gray-100 antialiased overflow-x-hidden">

    <div id="app"></div>
    <footer class="fixed bottom-0 w-full text-center py-2 text-xs text-gray-400">
        <span class="inline-flex items-center gap-1 justify-center">
            <svg fill="currentColor" viewBox="0 0 24 24" class="w-3 h-3">
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
            </svg>
            Powered by <a href="#" class="hover:text-gray-600">Wood NFC</a>
        </span>
    </footer>
    
    <script>
        // --- 1. LGICA DE ESTILOS DINMICOS ---
        const contRadius = CONFIG.theme.isContainerRounded ? 'rounded-2xl' : 'rounded-none';
        const contShadow = CONFIG.theme.hasContainerShadow ? 'shadow-2xl' : 'shadow-none';
        const btnRadius = CONFIG.buttonsStyle.isRounded ? 'rounded-xl' : 'rounded-none';
        const btnShadow = CONFIG.buttonsStyle.hasShadow ? 'shadow-md' : 'shadow-none';
        const btnHover = CONFIG.buttonsStyle.hasHoverAnimation ? `transition-all duration-300 transform hover:scale-105 ${CONFIG.buttonsStyle.hoverBgColor}` : '';

        // Generador de Botones
        const renderButtons = () => CONFIG.links.map(link => {
            // 1. Cargamos la configuraci贸n global por defecto
            let finalBgText = "bg-white text-gray-800 font-semibold";
            let finalBorder = "border border-gray-200";
            let finalHover = CONFIG.buttonsStyle.hasHoverAnimation ? `transition-all duration-300 transform hover:scale-105 ${CONFIG.buttonsStyle.hoverBgColor}` : '';
            let finalRadius = CONFIG.buttonsStyle.isRounded ? 'rounded-xl' : 'rounded-none';
            let finalShadow = CONFIG.buttonsStyle.hasShadow ? 'shadow-md' : 'shadow-none';

            // 2. Si el bot贸n tiene configuraci贸n individual, SOBRESCRIBE a la global
            if (link.customStyle) {
                if (link.customStyle.bgAndText) finalBgText = link.customStyle.bgAndText;
                if (link.customStyle.border) finalBorder = link.customStyle.border;
                if (link.customStyle.hover) finalHover = `transition-all duration-300 transform ${link.customStyle.hover}`;
            }

            // 3. Renderiza el bot贸n final
            return `
                <a href="${link.url}" class="block w-full text-center ${finalRadius} ${finalShadow} ${finalBgText} ${finalBorder} ${finalHover} ${CONFIG.buttonsStyle.defaultSize} mb-3">
                    ${link.text}
                </a>
            `;
        }).join('');

        // --- 2. MAQUETADO DESKTOP ---
        const desktop1 = `
            <div class="hidden lg:flex min-h-screen bg-cover bg-center items-center justify-center" style="background-image: url('${CONFIG.business.bgImage}')">
                <div class="${CONFIG.theme.containerColor} ${CONFIG.theme.containerOpacity} backdrop-blur-md ${contRadius} ${contShadow} w-full max-w-5xl grid grid-cols-2 p-12 gap-12 mx-8">
                    <div class="flex flex-col items-center justify-center border-r border-gray-300 pr-8">
                        <img src="${CONFIG.business.logo}" alt="Logo" class="w-48 h-48 object-cover rounded-full mb-6 shadow-lg">
                        <h1 class="text-4xl font-bold text-gray-800">${CONFIG.business.name}</h1>
                        <p class="text-gray-500 mt-2 text-lg"> ${CONFIG.business.location}</p>
                    </div>
                    <div class="flex flex-col justify-center">
                        ${renderButtons()}
                    </div>
                </div>
            </div>
        `;

        const desktop2 = `
            <div class="hidden lg:flex min-h-screen w-full">
                <div class="flex-1 bg-cover bg-center min-w-[300px]" style="background-image: url('${CONFIG.business.bgImage}')"></div>
                <div class="w-[600px] ${CONFIG.theme.containerColor} flex flex-col items-center justify-center p-12 shrink-0 relative">
                    <img src="${CONFIG.business.logo}" alt="Logo" class="w-32 h-32 object-cover rounded-full mb-6 shadow-md z-10">
                    <h1 class="text-3xl font-bold text-gray-800 mb-8 z-10">${CONFIG.business.name}</h1>
                    <div class="w-full max-w-sm z-10">
                        ${renderButtons()}
                    </div>
                </div>
            </div>
        `;

        // --- 3. MAQUETADO MVIL (Viewport < lg) ---
        const mobile1 = `
            <div class="lg:hidden flex flex-col min-h-screen bg-gray-50">
                <div class="w-full h-56 bg-cover bg-center" style="background-image: url('${CONFIG.business.bgImage}')"></div>
                <div class="flex-1 w-full ${CONFIG.theme.containerColor} ${contRadius} -mt-6 p-6 flex flex-col items-center relative z-10">
                    <img src="${CONFIG.business.logo}" alt="Logo" class="w-24 h-24 object-cover rounded-full -mt-16 mb-4 border-4 border-white shadow-sm">
                    <h1 class="text-2xl font-bold text-gray-800 mb-6">${CONFIG.business.name}</h1>
                    <div class="w-full">
                        ${renderButtons()}
                    </div>
                </div>
            </div>
        `;

        const mobile2 = `
            <div class="lg:hidden relative min-h-screen w-full flex items-center justify-center p-4">
                <div class="absolute inset-0 bg-cover bg-center z-0" style="background-image: url('${CONFIG.business.bgImage}')"></div>
                <div class="absolute inset-0 bg-black bg-opacity-40 z-0"></div> <div class="relative z-10 w-full max-w-sm ${CONFIG.theme.containerColor} ${CONFIG.theme.containerOpacity} backdrop-blur-sm ${contRadius} ${contShadow} p-8 flex flex-col items-center">
                    <img src="${CONFIG.business.logo}" alt="Logo" class="w-24 h-24 object-cover rounded-full mb-4 shadow-sm">
                    <h1 class="text-2xl font-bold text-gray-800 mb-6">${CONFIG.business.name}</h1>
                    <div class="w-full">
                        ${renderButtons()}
                    </div>
                </div>
            </div>
        `;

        // --- 4. RENDERIZADO FINAL ---
        const activeDesktop = CONFIG.desktopLayout === 1 ? desktop1 : desktop2;
        const activeMobile = CONFIG.mobileLayout === 1 ? mobile1 : mobile2;
        
        document.getElementById('app').innerHTML = activeDesktop + activeMobile;
    </script>
</body>
</html>
